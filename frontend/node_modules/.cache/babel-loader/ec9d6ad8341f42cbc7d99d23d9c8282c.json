{"ast":null,"code":"import userAPI from '../../services/userAPI';\nconst stateInitial = {\n  name: '',\n  mail: '',\n  subject: '',\n  message: ''\n};\nexport const SEND_SUCCESS = \"SEND_SUCCESS\";\nexport const SEND_ERROR = \"SEND_ERROR\";\n\nconst reducer = (state = stateInitial) => {\n  switch (action.type) {\n    case SEND_SUCCESS:\n      return { ...state,\n        ...action.payload,\n        error: false\n      };\n\n    case SEND_ERROR:\n      return { ...state,\n        error: 'message non envoyé'\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const send = formState => (dispatch, getState) => {\n  console.log(\"state from contact component: \", formState);\n  return userAPI.sendMessage(formState).then(res => {\n    console.log(\"res: \", res.data);\n    dispatch(sendSuccess(res.data));\n  }).catch(err => {\n    console.log(\"err : \", err);\n    dispatch(sendError());\n  });\n};\nexport const sendSuccess = payload => ({\n  type: SEND_SUCCESS,\n  payload\n});\nexport const sendError = () => ({\n  type: SEND_ERROR\n});\nexport default reducer;","map":{"version":3,"sources":["/var/www/html/Domelec/domelecplus/frontend/src/store/reducer/index.ts"],"names":["userAPI","stateInitial","name","mail","subject","message","SEND_SUCCESS","SEND_ERROR","reducer","state","action","type","payload","error","send","formState","dispatch","getState","console","log","sendMessage","then","res","data","sendSuccess","catch","err","sendError"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,wBAApB;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,IAAI,EAAE,EADW;AAEjBC,EAAAA,IAAI,EAAE,EAFW;AAGjBC,EAAAA,OAAO,EAAE,EAHQ;AAIjBC,EAAAA,OAAO,EAAE;AAJQ,CAArB;AAOA,OAAO,MAAMC,YAAY,GAAG,cAArB;AACP,OAAO,MAAMC,UAAU,GAAG,YAAnB;;AAEP,MAAMC,OAAO,GAAG,CAACC,KAAK,GAAGR,YAAT,KAA0B;AACtC,UAAOS,MAAM,CAACC,IAAd;AACI,SAAKL,YAAL;AACI,aAAO,EACH,GAAGG,KADA;AAEH,WAAGC,MAAM,CAACE,OAFP;AAGHC,QAAAA,KAAK,EAAE;AAHJ,OAAP;;AAKJ,SAAKN,UAAL;AACI,aAAO,EACH,GAAGE,KADA;AAEHI,QAAAA,KAAK,EAAE;AAFJ,OAAP;;AAIJ;AACI,aAAOJ,KAAP;AAbR;AAeH,CAhBD;;AAmBA,OAAO,MAAMK,IAAI,GAAIC,SAAD,IAAe,CAACC,QAAD,EAAWC,QAAX,KAAwB;AACtDC,EAAAA,OAAO,CAACC,GAAR,CAAa,gCAAb,EAA+CJ,SAA/C;AAEA,SAAOf,OAAO,CAACoB,WAAR,CAAoBL,SAApB,EACHM,IADG,CACIC,GAAD,IAAS;AACZJ,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBG,GAAG,CAACC,IAAxB;AACAP,IAAAA,QAAQ,CAACQ,WAAW,CAACF,GAAG,CAACC,IAAL,CAAZ,CAAR;AACH,GAJG,EAKHE,KALG,CAKIC,GAAG,IAAI;AACXR,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBO,GAAtB;AACAV,IAAAA,QAAQ,CAACW,SAAS,EAAV,CAAR;AACH,GARG,CAAP;AASJ,CAZM;AAcP,OAAO,MAAMH,WAAW,GAAIZ,OAAD,KAAc;AACrCD,EAAAA,IAAI,EAAEL,YAD+B;AAErCM,EAAAA;AAFqC,CAAd,CAApB;AAMP,OAAO,MAAMe,SAAS,GAAG,OAAO;AAC5BhB,EAAAA,IAAI,EAAEJ;AADsB,CAAP,CAAlB;AAKP,eAAeC,OAAf","sourcesContent":["import userAPI from '../../services/userAPI';\n\nconst stateInitial = { \n    name: '',\n    mail: '',\n    subject: '',\n    message: ''\n};\n\nexport const SEND_SUCCESS = \"SEND_SUCCESS\";\nexport const SEND_ERROR = \"SEND_ERROR\";\n\nconst reducer = (state = stateInitial) => {\n    switch(action.type){\n        case SEND_SUCCESS:\n            return {\n                ...state,\n                ...action.payload,\n                error: false\n            }\n        case SEND_ERROR: \n            return {\n                ...state,\n                error: 'message non envoyé'\n            }\n        default:\n            return state;\n    }\n};\n\n\nexport const send = (formState) => (dispatch, getState) => {\n     console.log( \"state from contact component: \", formState);\n\n     return userAPI.sendMessage(formState)\n        .then( (res) => {\n            console.log(\"res: \",res.data);\n            dispatch(sendSuccess(res.data));\n        })\n        .catch( err => {\n            console.log(\"err : \", err);\n            dispatch(sendError());\n        });\n};\n \nexport const sendSuccess = (payload) => ({\n    type: SEND_SUCCESS,\n    payload\n\n});\n\nexport const sendError = () => ({\n    type: SEND_ERROR\n\n});\n\nexport default reducer;"]},"metadata":{},"sourceType":"module"}